import{a as j}from"./chunk-VLFYZN4X.js";import{a as $,b as H,c as q,d as J,e as K,f as Q,g as X}from"./chunk-OL45WJ5K.js";import{B as v,C as y,Da as i,Ea as m,F as C,Fa as S,G as h,Ga as U,Ha as w,Ia as I,Ja as k,T as u,Ta as E,U as a,Ua as z,V as b,Wa as D,Za as T,aa as d,ca as s,eb as F,fb as O,ka as n,kb as Z,la as o,lc as G,ma as p,mc as W,nb as N,qa as M,rb as V,sb as L,ta as _,tb as R,v as P,va as g,yb as A,zb as B}from"./chunk-Z3PF5OZX.js";function te(t,c){t&1&&p(0,"div",22)}function ne(t,c){t&1&&(n(0,"p",23),i(1,"Cargando..."),o())}function oe(t,c){if(t&1&&(n(0,"div",19),d(1,te,1,0,"div",20)(2,ne,2,0,"p",21),o()),t&2){let e=g();a(),s("ngIf",e.loading),a(),s("ngIf",e.loading)}}function ie(t,c){if(t&1&&(n(0,"option",24),i(1),o()),t&2){let e=c.$implicit;s("value",e),a(),m(e)}}function re(t,c){t&1&&p(0,"i",29)}function ae(t,c){t&1&&p(0,"i",30)}function le(t,c){if(t&1&&(n(0,"td",31),p(1,"i",32),n(2,"h6",33),i(3),o()()),t&2){let e=g().$implicit;a(3),m(e.us_lugar)}}function se(t,c){if(t&1&&(n(0,"td",31),p(1,"i",34),n(2,"h6",33),i(3),o()()),t&2){let e=g().$implicit;a(3),m(e.us_lugar)}}function ce(t,c){if(t&1){let e=M();n(0,"tr")(1,"td"),i(2),o(),n(3,"td"),i(4),o(),n(5,"td"),i(6),o(),n(7,"td"),i(8),o(),n(9,"td"),d(10,re,1,0,"i",25)(11,ae,1,0,"i",26),o(),d(12,le,4,1,"td",27)(13,se,4,1,"td",27),n(14,"td")(15,"button",28),_("click",function(){let r=C(e).$implicit,x=g();return h(x.openModal(r.us_id))}),i(16,"Confimar Pago"),o()()()}if(t&2){let e=c.$implicit;a(2),m(e.us_nombres),a(2),m(e.us_apellidos),a(2),m(e.us_dni),a(2),m(e.us_zone),a(2),s("ngIf",e.us_pago_confirmado),a(),s("ngIf",!e.us_pago_confirmado),a(),s("ngIf",e.us_lugar=="AU"),a(),s("ngIf",e.us_lugar=="CC")}}function de(t,c){if(t&1){let e=M();n(0,"div",35)(1,"div",36)(2,"span",37),_("click",function(){C(e);let r=g();return h(r.closeModal())}),i(3,"\xD7"),o(),n(4,"h5",38),i(5,"Desea confirmar el pago?"),o(),n(6,"button",28),_("click",function(){C(e);let r=g();return h(r.confirmarPago())}),i(7,"Confirmar"),o()()()}}var Y=(()=>{class t{router;inscripcionesService;userData=[];filteredUserData=[];zones=[];selectedCategory="All";isModalOpen=!1;userId="";filteredZone="";loading=!1;totalUserCount=0;filteredUserCount=0;constructor(e,l){this.router=e,this.inscripcionesService=l}ngOnInit(){this.getUserList()}openModal(e){this.isModalOpen=!0,this.userId=e}closeModal(){this.isModalOpen=!1}confirmarPago(){this.loading=!0,this.inscripcionesService.editUserById(this.userId).subscribe(e=>{console.log("ID editado con exito",e),this.selectedCategory="",this.getUserList(),this.filterByZone(this.filteredZone),this.closeModal(),this.loading=!1},e=>{console.error("Error al enviar el formulario",e),this.loading=!1}),this.router.navigate(["/user-list"])}getUserList(){this.loading=!0,this.inscripcionesService.getUserList().subscribe(e=>{console.log("Respuesta Exitosa",e),this.userData=e,this.filteredUserData=e,this.totalUserCount=this.userData.length,this.filteredUserCount=this.filteredUserData.length,this.extractZones(),this.loading=!1},e=>{console.error("Error al enviar el formulario",e),this.loading=!1})}extractZones(){this.zones=[...new Set(this.userData.map(e=>e.us_zone))]}filterByZone(e){this.filteredZone=e,e?this.filteredUserData=this.userData.filter(l=>l.us_zone==e):this.filteredUserData=this.userData,this.filteredUserCount=this.filteredUserData.length}static \u0275fac=function(l){return new(l||t)(b(F),b(j))};static \u0275cmp=v({type:t,selectors:[["app-user"]],decls:42,vars:8,consts:[["rel","preconnect","href",u`https://fonts.googleapis.com`],["rel","preconnect","href",u`https://fonts.gstatic.com`,"crossorigin",""],["href",u`https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap`,"rel","stylesheet"],["href",u`https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css`,"rel","stylesheet"],[1,"container"],["id","splash-screen",4,"ngIf"],[1,"title-text"],[1,"filter-container"],[1,"filter"],["for","zona"],["id","zona",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"count-container"],[1,"table-container"],[1,"user-table"],[1,"th_border"],[1,"th_border_end"],[4,"ngFor","ngForOf"],["id","paymentModal","class","modal",4,"ngIf"],["id","splash-screen"],["class","spinner",4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"spinner"],[1,"loading-text"],[3,"value"],["class","bx bx-check","style","color: #81e059; font-size: 40px",4,"ngIf"],["class","bx bx-x","style","color: #fb0b06; font-size: 40px",4,"ngIf"],["style","display: inline-flex; align-items: center",4,"ngIf"],[3,"click"],[1,"bx","bx-check",2,"color","#81e059","font-size","40px"],[1,"bx","bx-x",2,"color","#fb0b06","font-size","40px"],[2,"display","inline-flex","align-items","center"],[1,"bx","bxs-building-house",2,"font-size","25px","margin-right","5px"],[2,"font-size","14px","margin","0"],[1,"bx","bxs-video-recording",2,"font-size","25px","margin-right","5px"],["id","paymentModal",1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[1,"confirm-title"]],template:function(l,r){l&1&&(p(0,"link",0)(1,"link",1)(2,"link",2)(3,"link",3),n(4,"body")(5,"div",4),d(6,oe,3,2,"div",5),n(7,"h2",6),i(8,"Admin Panel"),o(),n(9,"div",7)(10,"div",8)(11,"label",9)(12,"strong"),i(13,"Filtrar por Zona:"),o()(),n(14,"select",10),k("ngModelChange",function(f){return I(r.selectedCategory,f)||(r.selectedCategory=f),f}),_("ngModelChange",function(f){return r.filterByZone(f)}),d(15,ie,2,2,"option",11),o()(),n(16,"div",12)(17,"p")(18,"strong"),i(19),o(),i(20),o()()(),n(21,"div",13)(22,"table",14)(23,"thead")(24,"tr")(25,"th",15),i(26,"Nombres"),o(),n(27,"th"),i(28,"Apellidos"),o(),n(29,"th"),i(30,"DNI"),o(),n(31,"th"),i(32,"Zona"),o(),n(33,"th"),i(34,"Pago"),o(),n(35,"th"),i(36,"Ubicacion"),o(),n(37,"th",16),i(38,"Confirmacion"),o()()(),n(39,"tbody"),d(40,ce,17,8,"tr",17),o(),d(41,de,8,0,"div",18),o()()()()),l&2&&(a(6),s("ngIf",r.loading),a(8),w("ngModel",r.selectedCategory),a(),s("ngForOf",r.zones),a(4),S(" ",r.selectedCategory==null||r.selectedCategory=="All"?"Total":r.selectedCategory=="15"?"CDL":r.selectedCategory=="16"?"Oquendo":"Zona "+r.selectedCategory,": "),a(),U(" ",r.filteredUserData.length," de ",r.totalUserCount," "),a(20),s("ngForOf",r.filteredUserData),a(),s("ngIf",r.isModalOpen))},dependencies:[E,z,L,R,V,Z,N],styles:["body[_ngcontent-%COMP%]{background-color:#fff;font-family:Open Sans,sans-serif;font-weight:500}#splash-screen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{margin-top:20px;font-family:Poppins,sans-serif;font-size:16px;color:#333}.container[_ngcontent-%COMP%]{margin:2rem}.filter[_ngcontent-%COMP%]{margin-bottom:.3rem;display:flex;flex-direction:column;width:70%}.filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem;color:#000}.filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.7rem .8rem;font-size:1rem;border:1px solid #ccc;border-radius:.7rem;width:100%;background-color:#f7f7f7;box-sizing:border-box;appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:url(data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%204%205%22%3E%3Cpath%20fill%3D%22%23666%22%20d%3D%22M2%200L0%202h4zM2%205L0%203h4z%22/%3E%3C/svg%3E);background-repeat:no-repeat;background-position:right .7rem center;background-size:.8rem;cursor:pointer}.filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::-ms-expand{display:none}.filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 3px #007bff80}.count-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}select[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.9rem;padding:.5rem;font-size:1rem;width:100%;max-width:300px;box-sizing:border-box}.title-text[_ngcontent-%COMP%]{font-size:30px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-weight:600;margin-bottom:1rem}.user-table[_ngcontent-%COMP%]{width:80%;border-collapse:collapse;border-radius:20px;font-size:1rem}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:1rem;font-weight:700}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f8f8}.th_border[_ngcontent-%COMP%]{border-top-left-radius:20px}.th_border_end[_ngcontent-%COMP%]{border-top-right-radius:20px}@media (max-width: 300px){.user-table[_ngcontent-%COMP%]{font-size:14px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}.user-table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:10px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;text-align:right}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:before, .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;border:none;padding-left:0}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding-left:0;padding-right:0;border-bottom:1px solid #ddd}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:transparent}}.user-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;background-color:#007bff;border:none;border-radius:1rem;padding:.7rem;font-size:14px;color:#fff;cursor:pointer;transition:background-color .3s ease}.user-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.confirm-title[_ngcontent-%COMP%]{font-size:24px;margin-left:.3rem;justify-content:center}.modal[_ngcontent-%COMP%]{display:block;position:fixed;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#00000080;border-radius:10px}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;max-width:600px;border-radius:10px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:24px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})}return t})();var me=[{path:"",component:Y}],ze=(()=>{class t{static \u0275fac=function(l){return new(l||t)};static \u0275mod=y({type:t});static \u0275inj=P({imports:[O.forChild(me),O,T,G,$,H,W,q,D,J,K,Q,A,X,B]})}return t})();export{ze as UserModule};
